<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>92 Draft Randomizer</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}
body {
background-color: black;
display: flex;
justify-content: center;
align-items: center;
height: 100vh;
overflow: hidden;
}
.grid-container {
display: grid;
width: 100vw;
height: 100vh;
background-color: black;
grid-gap: 0;
}
.image-container {
position: relative;
width: 740px;
height: 560px;
overflow: hidden;
}
.image-container img {
width: 100%;
height: 100%;
object-fit: contain;
position: absolute;
display: none;
}
.image-container img.active {
display: block;
}
</style>
</head>
<body>
<div class="grid-container" id="gridContainer"></div>
<script>
const imageUrls = [
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/01_shaquille_oneal.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/02_alonzo_mourning.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/03_christian_laettner.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/04_jim_jackson.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/05_laphonso_ellis.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/06_tom_gugliotta.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/07_walt_williams.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/08_todd_day.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/09_clarence_weatherspoon.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/10_adam_keefe.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/11_robert_horry.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/12_harold_miner.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/13_bryant_stith.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/14_malik_sealy.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/15_anthony_peeler.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/16_randy_woods.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/17_doug_christie.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/18_tracy_murray.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/19_don_maclean.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/20_hubert_davis.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/21_jon_barry.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/22_oliver_miller.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/23_lee_mayberry.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/24_latrell_sprewell.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/25_elmore_spencer.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/26_dave_johnson.jpg",
"https://raw.githubusercontent.com/filkfilkommen/draft_randomizer/main/27_byron_houston.jpg"
];

const gridContainer = document.getElementById("gridContainer");
let imageBlocks = []; // Array to hold all image block objects
let nextBlockTimer;
const rotationDuration = 27 * 300; // 8100ms per full cycle

// Fisher-Yates shuffle
function shuffleArray(arr) {
for (let i = arr.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[arr[i], arr[j]] = [arr[j], arr[i]];
}
}

// Create a new image block (an image container that cycles through 27 images)
function createImageBlock() {
// Copy and shuffle the image URLs for a new unique order
let shuffled = [...imageUrls];
shuffleArray(shuffled);

// Create a new container element
const block = document.createElement("div");
block.classList.add("image-container");

// Create an <img> for each URL; only the first image is initially active
shuffled.forEach((url, i) => {
const img = document.createElement("img");
img.src = url;
if (i === 0) {
img.classList.add("active");
}
img.style.animationDelay = `${i * 0.1}s`;
block.appendChild(img);
});

// Append the new block to the grid container
gridContainer.appendChild(block);
imageBlocks.push({ block: block, index: 0, total: shuffled.length });

// Update the grid layout (keep layout the same as before)
updateGridSize();

// Start cycling images in this block
startBlockCycle(imageBlocks.length - 1);

// Schedule next block auto-add: if fewer than 6 blocks, wait a full rotation; else, rapid addition
if (nextBlockTimer) {
clearTimeout(nextBlockTimer);
}
const delay = imageBlocks.length < 6 ? rotationDuration : 300;
nextBlockTimer = setTimeout(createImageBlock, delay);
}

// Cycle through images in a given block
function startBlockCycle(blockIndex) {
const blockObj = imageBlocks[blockIndex];
const imgs = blockObj.block.querySelectorAll("img");
setInterval(() => {
imgs[blockObj.index].classList.remove("active");
blockObj.index = (blockObj.index + 1) % blockObj.total;
imgs[blockObj.index].classList.add("active");
}, 300);
}

// Update grid layout to keep image blocks equal in size and maintain the original layout
function updateGridSize() {
const numBlocks = imageBlocks.length;
// Determine number of columns based on viewport width and a minimum block width of 150px, maximum 10 columns
const possibleColumns = Math.floor(window.innerWidth / 150);
const columns = Math.min(possibleColumns, 10) || 1;
gridContainer.style.display = "grid";
gridContainer.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;
gridContainer.style.gridAutoRows = `1fr`;

// Calculate new block size so that blocks fill the viewport evenly
const blockWidth = window.innerWidth / columns;
const rows = Math.ceil(numBlocks / columns);
const blockHeight = window.innerHeight / rows;
imageBlocks.forEach(blockObj => {
blockObj.block.style.width = `${blockWidth}px`;
blockObj.block.style.height = `${blockHeight}px`;
});
}

// Event listeners: on click, Enter key, or touch, add a new block manually
function handleAddBlock(e) {
if (e.type === "click" || (e.type === "keydown" && e.key === "Enter") || e.type === "touchstart") {
createImageBlock();
}
}
document.addEventListener("click", handleAddBlock);
document.addEventListener("keydown", handleAddBlock);
document.addEventListener("touchstart", handleAddBlock);
window.addEventListener("resize", updateGridSize);

// Start the first block when the page loads
window.onload = createImageBlock;
</script>
</body>
</html>
